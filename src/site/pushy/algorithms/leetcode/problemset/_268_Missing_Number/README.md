---
export_on_save:
  html: true
---

# 268. 缺失数字

## Question

给定一个包含 0, 1, 2, ..., n 中 n 个数的序列，找出 0 .. n 中没有出现在序列中的那个数。

示例 1:

```java
输入: [3,0,1]
输出: 2
```

示例 2:

```java
输入: [9,6,4,2,3,5,7,0,1]
输出: 8
```

说明:
你的算法应具有线性时间复杂度。你能否仅使用额外常数空间来实现?

## Solution

该题比较巧妙的解法就是先算出等差数列的总和，然后遍历数组将总和减去每个元素的值，得到的结果就是缺失的数字：

```java
public int missingNumber(int[] nums) {
    int n = nums.length;
    double res = n * (n + 1) / 2;  // 防止溢出的风险
    for (int i = 0; i < n; i++) {
        res -= nums[i];
    }
    return (int) res;
}
```

为什么呢？拿`[3, 0, 1]`举例，因为数组的长度为`3`，因此完整的数组应该是`[0, 1, 2, 3]`，其等差数列的和为`6`。

用等差数列和减去丢失元素的数组所有数值，得到的结果为`2`即丢失的元素。